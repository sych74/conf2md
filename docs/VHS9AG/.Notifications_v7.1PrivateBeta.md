# .Notifications v7.1PrivateBeta

The Control Panel's Notification menu lets you configure the notifications for your CP. You can select the events about which to notify your users. To configure notifications for your cloud you need to:

-   [Enable notifications](#id-.Notificationsv7.1PrivateBeta-enable) for your cloud - the configured subscriptions will send notifications only if you enable this option.
-   [Configure gateways](.Gateways_v7.1PrivateBeta) - select what type of notifications you want to send: SMTP/SENDMAIL emails or internal notifications in CP.
-   [Add notification templates](.Notification_Templates_v7.1PrivateBeta) - notification templates determine the text of the messages your users will receive.
-   [Add custom events](.Events_v7.1PrivateBeta) - you can add custom events to send notifications when you require.
-   [Create recipients lists](.Recipients_v7.1PrivateBeta) - recipients lists include users whom you want to address certain notifications.
-   [Set up subscriptions](.Subscriptions_v7.1PrivateBeta) - a subscription ties all your configurations together. After you set up subscriptions your users will start receiving notifications.

After these configurations, you can:

-   Check whether your [notification have been delivered](.Deliveries_v7.1PrivateBeta) - you can check whether the sent notifications have been delivered successfully.
-   View [internal notifications](#id-.Notificationsv7.1PrivateBeta-internal) in CP - you can view internal notification in your Control Panel.

You need to have messaging permissions enabled to configure notification for the cloud. For more information, refer to [List of all OnApp Permissions](.OnApp_Permissions_v7.1PrivateBeta).

 You can manage the following elements of the notifications system:

-   [Gateways](.Gateways_v7.1PrivateBeta) define what type of notifications will be send: SMTP/SENDMAIL emails or internal notifications in CP.
-   [Notification templates](.Notification_Templates_v7.1PrivateBeta) determine the text of the messages your users will receive. 
-   [External recipients](.Recipients_v7.1PrivateBeta) are the contacts not registered in OnApp whom notification can be sent.
-   [Recipients lists](.Recipients_v7.1PrivateBeta) include users whom certain notifications will be addressed.
-   [Subscriptions](.Subscriptions_v7.1PrivateBeta) tie all your configurations together. After you set up subscriptions your users will start receiving notifications.

You can also [disable notifications](#id-.Notificationsv7.1PrivateBeta-disable) for your cloud and [delete](#id-.Notificationsv7.1PrivateBeta-delete) for a period of time.

-   You need to have messaging permissions enabled to manage notifications. For more information, refer to [OnApp Permissions](.OnApp_Permissions_v7.1PrivateBeta).

------------------------------------------------------------------------

## Enable Notifications for Your Cloud

Firstly, you need to enable notifications for your cloud. You can do this in the **Configuration** section. All notification sections will be available in the Control Panel if notifications are disabled for the cloud, but no notifications will be sent.

To enable notifications for your cloud:

1.  Go to your Control Panel &gt; **Admin** &gt; **Configuration** menu.
2.  Move the *Enable notifications* slider to enable notifications. By default, this option is disabled.
3.  Specify the number of unread notifications to show. It is set to 5 by default.
4.  Specify the notification subject prefix. By default, this value is 'OnApp.' 
5.  Click the **Save Configuration** button. The transaction will be scheduled to enable notifications for your cloud. 

![](https://docs.onapp.com/download/attachments/192906607/OnApp%20%E2%80%BA%20%283%29.gif?version=1&modificationDate=1707297144906&api=v2){.image-center height="250"}

------------------------------------------------------------------------

## View Internal Notifications in CP

Your** Notifications** are displayed as a bell near your Profile icon and contain the internal notifications received by your Control Panel. These notifications are configured at your Control Panel &gt; **Admin** &gt; **Notifications**. The notification count includes only unread notifications. You can configure the amount of unread notifications at your Control Panel &gt; **Admin** &gt; **Configuration** menu. **** Each of the notifications is displayed with the following details:

-   *Topic* - the event about which the notification is sent
-   *Message* - the message of the notification. The message of an unread notification is displayed in bold. Click the message to view its full text. The notification will include the text generated by the alert and the text from the notification template.
-   *Date* - the time when the notification was delivered

------------------------------------------------------------------------

## Disable Notifications

If required, you can switch off notifications for your cloud. In this case all your configurations will be preserved, but notifications will not be sent to users. You can switch notifications back on at any time.

To enable/disable notifications for your cloud:

1.  Go to your Control Panel &gt; **Admin** &gt; **Configuration** menu.
2.  Move the *Enable notifications* slider to enable/disable notifications. By default, this option is disabled.
3.  Click the **Save Configuration** button. The transaction will be scheduled to disable notifications for your cloud. 

![](https://docs.onapp.com/download/attachments/192906607/OnApp%20%E2%80%BA%20%282%29.gif?version=1&modificationDate=1707297153029&api=v2){.image-center height="250"}

------------------------------------------------------------------------

## Delete Notification Data

You can delete notification data, including events, deliveries and notifications for a particular period of time. To delete all notification data, you need to run the following command from the *onapp* user: 

``` java
cd /onapp/interface
RAILS_ENV=production rake messaging:clean_notification_elements[2016-09-20,2016-09-23]
```

Change the dates in the example above to the ones you require and separate them by comma. The notification data is deleted for the period from the first date up to and including the second date you specify.

If the deletion of notification data fails, you can run the followig command:

``` java
cd /onapp/interface
RAILS_ENV=production rake messaging:fix_events_data
```

After running this command, you can repeat the previous step to delete notification data.

## Troubleshooting

------------------------------------------------------------------------

If you see the following warning: "Replace the default system notification settings with actual data," this means that the notification settings have not been configured for your cloud and are still default.

To change these settings:

-   Go to your Control Panel &gt; **Admin** &gt; **Settings** menu.
-   Click the **Configuration** icon.
-   On the page that appears, click the **Systems** tab and under *Miscellaneous*, change the following parameters:
    -   *Support help email* - the email to which requests are sent from the *Help *form at Control Panel
    -   *System host *- enter a server IP or URL. Email alerts link to transaction logs for alert events, and those logs are opened from the server configured here.

------------------------------------------------------------------------


