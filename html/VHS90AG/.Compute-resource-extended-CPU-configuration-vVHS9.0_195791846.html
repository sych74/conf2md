<!DOCTYPE html>
<html>
    <head>
        <title>Virtuozzo Hybrid Server 9.0 Admin Guide : .Compute resource extended CPU configuration vVHS9.0</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Virtuozzo Hybrid Server 9.0 Admin Guide</a></span>
                            </li>
                                                    <li>
                                <span><a href="Virtuozzo-Hybrid-Server-9.0-Admin-Guide_195791490.html">Virtuozzo Hybrid Server 9.0 Admin Guide</a></span>
                            </li>
                                                    <li>
                                <span><a href="Control-Panel-Administration_195792528.html">Control Panel Administration</a></span>
                            </li>
                                                    <li>
                                <span><a href="Compute-Resources_195791812.html">Compute Resources</a></span>
                            </li>
                                                    <li>
                                <span><a href="Compute-Resource-Extended-CPU-Configuration_195791847.html">Compute Resource Extended CPU Configuration</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Virtuozzo Hybrid Server 9.0 Admin Guide : .Compute resource extended CPU configuration vVHS9.0
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> Roksoliana Ben</span>, last modified on May 02, 2024
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <div class="contentLayout2">
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p>OnApp provides a possibility to use extended CPU configuration to group compute resources with similar CPU performance characteristics into compute zones. The extended CPU configuration is implemented on a per-compute-zone basis. The compute zone with the extended CPU configuration is automatically assigned to a CPU model with a set of default and additional CPU flags. On the compute resource level, you can view the CPU model and the list of default, additional and unmatching CPU flags.  <strong><br/></strong></p><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><span>The extended CPU configuration is applicable only to KVM compute resources. </span></p></div></div><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Ignore the options specified in your Control Panel but not mentioned in the documents.</p></div></div><p><br/></p><p>For more information on the extended CPU configuration of the compute resource, refer to the following sections. </p><p><br/></p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<hr/><h2 id="id-.ComputeresourceextendedCPUconfigurationvVHS9.0-prerequisitesPrerequisites"><span class="confluence-anchor-link" id="id-.ComputeresourceextendedCPUconfigurationvVHS9.0-prerequisites"></span>Prerequisites</h2></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p>The extended CPU configuration is managed per compute zone, and each compute resource assigned to the zone inherits CPU model and CPU flags from the compute zone.</p><p>To use the extended CPU configuration:</p><ol><li><p><span style="color: rgb(23,43,77);">You can enable the extended CPU configuration functionality while </span><a href=".Creating-compute-zones-vVHS9.0_195791766.html">creating</a><span style="color: rgb(23,43,77);"><span> </span>or </span><a href=".Managing-compute-zones-vVHS9.0_195791771.html">editing</a><span style="color: rgb(23,43,77);"><span> </span>a compute zone.</span> After this functionality is enabled for the compute zone, all compute resources in this zone are automatically attached to a CPU model with a set of default and additional CPU flags. The CPU model is selected based on the CPU characteristics common for each compute resource assigned to this zone.</p><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>When you add a new compute resource to a compute zone with extended CPU configuration, wait for CPU flags to be updated after all the related transactions are finished.</p></div></div></li><li>Manage the extended CPU configuration for a compute zone. For more information on how to configure the extended CPU configuration for a compute zone, refer to the <a href=".Compute-zone-extended-CPU-configuration-vVHS9.0_195791803.html">Compute zone extended CPU configuration</a> section.</li></ol><p><br/></p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<hr/><h2 id="id-.ComputeresourceextendedCPUconfigurationvVHS9.0-flagsComputeResourceCPUFlags"><span class="confluence-anchor-link" id="id-.ComputeresourceextendedCPUconfigurationvVHS9.0-flags"></span>Compute Resource CPU Flags</h2></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p><span style="color: rgb(51,51,51);">To view the list of extended CPU flags of a compute resource:<span class="confluence-embedded-file-wrapper image-right-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-thumbnail confluence-content-image-border image-right" draggable="false" width="300" src="attachments/195791846/195791850.png" data-image-src="attachments/195791846/195791850.png" data-unresolved-comment-count="0" data-linked-resource-id="195791850" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2021-9-6_15-55-22.png" data-base-url="https://docs.onapp.com" data-linked-resource-content-type="image/png" data-linked-resource-container-id="195791846" data-linked-resource-container-version="6" alt=""></span></span></p><ol><li><span style="color: rgb(51,51,51);">Go to your Control Panel &gt; <strong>Admin</strong> &gt; <strong>Settings</strong> menu.</span></li><li><span style="color: rgb(51,51,51);"> On the following page, click the <strong>Compute Resources</strong> icon.</span></li><li><span style="color: rgb(51,51,51);">Click the label of the compute resource you are interested in.</span></li><li><span style="color: rgb(51,51,51);">On the page that appears, click the <strong>Actions </strong>button, point to <strong>Resource Options</strong>, and select <strong>Extended CPU Configuration</strong>.</span></li><li><span style="color: rgb(51,51,51);">On the page that follows, you will see the following information on the extended CPU configuration:</span></li></ol><ul><li style="list-style-type: none;background-image: none;"><ul><li><p><span style="color: rgb(51,51,51);"><em>CPU Model Configuration - </em>provides a label of a CPU model set for this compute resource, as well as the list of default CPU flags. You cannot edit the list of default CPU flags.</span></p></li><li><p><span style="color: rgb(0,0,0);"><em>CPU Blacklisted Flags</em> - lists CPU flags which a virtual machine should skip when starting. You can add a CPU flag to the <em style="text-align: left;">CPU Blacklisted Flags </em>table using the <em>info_hub.xml</em> file. CPU blacklisted flags are set up at the cloud level.</span></p></li><li><p><span style="color: rgb(51,51,51);"><em>Additional CPU Flags - </em>includes the list of additional CPU flags available for each compute resource in this zone. T<span>he enabled CPU flags are displayed in green boxes and the disabled </span><span>CPU flags are</span><span> dimmed. </span>You can edit the list of additional CPU flags at <strong>Settings</strong> &gt; <strong>Compute Zones</strong> &gt; compute zone label &gt; <strong>Actions</strong> &gt; <strong>Resource Options</strong> &gt; <strong>Extended CPU Configuration</strong>.</span></p></li><li><p><em>Unmatching CPU Flags</em> - lists CPU flags that are available for the current compute resource but cannot be enabled for the entire compute zone as they are not available for each of the compute resources in this zone.</p><div class="confluence-information-macro confluence-information-macro-tip"><span class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><span>If there are some unmatching CPU flags, consider <a href=".Managing-compute-zones-vVHS9.0_195791771.html">assigning</a> a compute resource </span><span>to another compute zone, where a CPU model would correspond to the actual CPU performance of the compute resource.</span></p></div></div></li></ul></li></ul><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><span style="color: rgb(23,43,77);">To keep your blacklisted CPU flag list after your Control Panel is updated, you need to create an <code>info_hub.local.yml</code> file and add the <code>cpu_blacklisted_flags</code> section to this file.</span></p></div></div></div>
</div>
</div>
</div>
                    </div>

                                                            <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/195791846/195791850.png">image2021-9-6_15-55-22.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on May 07, 2024 09:23</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
