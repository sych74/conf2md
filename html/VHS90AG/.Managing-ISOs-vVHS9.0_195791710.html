<!DOCTYPE html>
<html>
    <head>
        <title>Virtuozzo Hybrid Server 9.0 Admin Guide : .Managing ISOs vVHS9.0</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Virtuozzo Hybrid Server 9.0 Admin Guide</a></span>
                            </li>
                                                    <li>
                                <span><a href="Virtuozzo-Hybrid-Server-9.0-Admin-Guide_195791490.html">Virtuozzo Hybrid Server 9.0 Admin Guide</a></span>
                            </li>
                                                    <li>
                                <span><a href="Control-Panel-Administration_195792528.html">Control Panel Administration</a></span>
                            </li>
                                                    <li>
                                <span><a href="Templates_195791696.html">Templates</a></span>
                            </li>
                                                    <li>
                                <span><a href="Manage-ISOs_195791711.html">Manage ISOs</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Virtuozzo Hybrid Server 9.0 Admin Guide : .Managing ISOs vVHS9.0
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> Roksoliana Ben</span>, last modified on May 02, 2024
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <div class="contentLayout2">
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p><span>OnApp allows uploading your custom bootable ISOs for recovery purposes. These could be different images for Windows/Linux/FreeBSD or any additional software. As a cloud administrator, you can limit user's ability to upload and manage ISOs by permissions and in buckets. You can boot virtual machines from your own ISOs or the ISOs that are uploaded and made publicly available by other users. The default maximum size for uploading ISOs from the file system is 1 GB, this value can be changed at Control Panel &gt; <strong>Admin</strong> &gt; <strong>Settings</strong> &gt; <strong>Configuration</strong> &gt; <em>Max upload size </em>in bytes. There are no space limitations for the ISOs uploaded from the URL (except for your disk space limitations). </span></p><div class="confluence-information-macro confluence-information-macro-warning"><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><ul><li><span>As soon as you boot a VM from the installation ISO, OnApp cannot control any VM components (backups, networks, disks).</span></li><li><span>Be aware that all the contents of the disk might be deleted if a VM is booted from the ISO that installs a new distributive.</span></li><li><span>If you boot a VM from an ISO with the RAM requirement larger than the VM's RAM, the transaction will fail.</span></li><li>If your cloud deployment is not a fresh installation, make sure that permissions on ISOs are enabled. For more info, refer to <a href=".Permissions-vVHS9.0_195791917.html">Permissions</a>.</li></ul></div></div><p>You can upload your own ISOs and make them available to all users of the cloud (the way the templates work in OnApp). After the ISO is uploaded, it is possible to select the Boot from ISO option on VM management screen.</p><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Ignore the options specified in your Control Panel but not mentioned in the documents.</p></div></div><h2 id="id-.ManagingISOsvVHS9.0-ViewISOsview"><span>View ISOs</span><span class="confluence-anchor-link" id="id-.ManagingISOsvVHS9.0-view"></span></h2></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p>T<span style="color: rgb(51,51,51);">o view the ISOs available to you:</span></p><ol><li><span style="color: rgb(51,51,51);">Go to your Control Panel &gt; <strong>Cloud</strong> and click <strong>Templates</strong>.</span></li><li><span style="color: rgb(51,51,51);">Select <strong>ISO list</strong> from the menu that expands. </span></li><li><span style="color: rgb(51,51,51);">The page that loads, will show the list of ISOs available to you separated into four tabs:</span><br/><ul><li><span style="color: rgb(51,51,51);"><strong>All ISOs</strong> - the list of all ISOs available on your system.</span></li><li><span style="color: rgb(51,51,51);"><strong>System ISOs</strong> - the list of the ISOs that are publicly available to all users.</span></li><li><span style="color: rgb(51,51,51);"><strong>My ISOs</strong> - the list of custom ISOs uploaded by the user who is currently logged in.</span></li><li><span style="color: rgb(51,51,51);"><strong>User ISOs</strong> - the list of  the ISOs uploaded by your users.</span></li></ul></li></ol><p><span style="color: rgb(51,51,51);">For each ISO listed, you see the following details displayed:</span></p><ul><li><p><span style="color: rgb(51,51,51);"><em>Log status</em> - the status of the last log item of the ISO (complete/pending/failed). Click the status to view the log details for the ISO (available to the ISOs that were uploaded through a URL).</span></p></li><li><span style="color: rgb(51,51,51);"><em>OS</em> - the icon that indicates the operating system of the ISO.<br/></span></li><li><span style="color: rgb(51,51,51);"><em>Label</em> - the name of the ISO.</span></li><li><span style="color: rgb(51,51,51);"><em>Min memory size</em> - the minimum RAM size required for the ISO.</span></li><li><span style="color: rgb(51,51,51);"><em>Operating systems</em> - the operating system on the ISO.</span></li><li><span style="color: rgb(51,51,51);"><em>Virtualization</em> - the virtualization type chosen for the ISO.</span></li><li><span style="color: rgb(51,51,51);"><em>Actions</em> - click the <strong>Actions</strong> button to perform the following procedures with the ISO:</span><ul><li><span style="color: rgb(51,51,51);">Edit ISO.</span></li><li><span style="color: rgb(51,51,51);">Delete ISO.</span></li><li><span style="color: rgb(51,51,51);">Make Public - only for the images from the My ISOs and User ISOs tabs.</span></li></ul></li></ul><p><br/></p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<hr/><h2 id="id-.ManagingISOsvVHS9.0-BootfromISOboot">Boot from ISO<span class="confluence-anchor-link" id="id-.ManagingISOsvVHS9.0-boot"></span></h2></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h3 id="id-.ManagingISOsvVHS9.0-shareShareLocationWhereISOsareStored"><span class="confluence-anchor-link" id="id-.ManagingISOsvVHS9.0-share"></span>Share Location Where ISOs are Stored</h3><p>The default configuration is to upload ISOs on the Control Panel server. Then it is required to mount and share the location where the ISOs are stored at CP with all the compute resources. When the virtual machines are booted from the ISOs, the ISO is taken from the compute resource server. The location is preconfigured in the <code>on_app.yml config</code> file which can be found in <code>/onapp/interface/config/on_app.yml</code>.</p><ul><li><code>iso_path_on_cp</code> - specifies the location where ISOs are stored on the Control Panel server. By default, the location is /data. You can change it to any other suitable location. Ensure that this location is shared with the specified <code>iso_path_on_hv</code> location.</li><li><code>iso_path_on_hv</code> - specifies the location where ISOs are located on the compute resource servers. By default, the location is /data. You can change it to any other suitable location with the <code>onapp</code> owner and read/write access. Ensure that this location is mounted to the specified <code>iso_path_on_cp </code>location.</li></ul><h3 id="id-.ManagingISOsvVHS9.0-enable-permissionsEnableISOPermissions"><span class="confluence-anchor-link" id="id-.ManagingISOsvVHS9.0-enable-permissions"></span>Enable ISO Permissions</h3><p>If your cloud deployment is not a fresh installation, make sure to enable the following permissions for your Admin and other roles as appropriate:</p><ul><li><em>Any action on ISOs</em> - the user can take any action on ISOs.</li><li><em>Create a new ISO</em> - the user can create a new ISO.</li><li><em>Destroy any ISO</em> - the user can delete any ISO (own, user, and public).</li><li><em>Destroy own ISO</em> - the user can only delete their ISO.</li><li><em>Destroy user ISO</em> - the user can delete ISOs created by any user, but not public ISOs.</li><li><em>Make any ISO public</em> - the user can make public any ISO available to all users.</li><li><em>Make own ISO public</em> - the user can make public their ISOs only.</li><li><em>Make user ISO public</em> - the user can make public ISOs created by any user.</li><li><em>Create and manage own ISOs</em> - the user can create and edit/delete/view their ISOs.</li><li><em>Manage all ISOs</em> - the user can manage own/user/public ISOs.</li><li><em>Create and manage user ISOs</em> - the user can view/create/edit/delete ISOs created by any user.</li><li><em>See all ISOs</em> - the user can view all ISOs.</li><li><em>See own ISOs</em> - the user can only view the ISOs created by themselves.</li><li><em>See all public ISOs</em> - the user can view all public ISOs.</li><li><em>See user ISOs</em> - the user can view the ISOs created by any user.</li><li><em>Update any ISO</em> - the user can edit any ISO.</li><li><em>Update own ISO</em> - the user can only edit their ISO.</li><li><em>Update user ISO</em> - the user can edit  the ISOs created by any user.</li></ul><p>For more info, refer to <a href=".Permissions-vVHS9.0_195791917.html">Permissions</a>.</p><h3 id="id-.ManagingISOsvVHS9.0-upload-isoUploadISO(s)intotheCloud"><span class="confluence-anchor-link" id="id-.ManagingISOsvVHS9.0-upload-iso"></span>Upload ISO(s) into the Cloud</h3><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Before uploading ISO for the first time, a root user has to create a <em>/data</em> folder in one's Control Panel. </p></div></div><p>Once you've configured the locations for storing ISOs and enabled the necessary permissions, you can add new ISOs to the system. You can also <a href="#id-.ManagingISOsvVHS9.0-make-public">make your ISOs public</a> so that other users can boot their virtual machines from the ISOs you have uploaded.</p><p>To upload an ISO file, follow the next steps:</p><ol><li>Go to your Control Panel &gt; <strong>Cloud </strong>and click the <strong>Templates</strong> menu from the left navigation pane.</li><li>Select <strong>ISO list</strong> from the menu that expands. </li><li>On the page that loads, click the <strong>Upload ISO</strong> button at the bottom of the screen.</li><li>Choose the ISO to upload and fill in its details:<br/><ul><li><em>Make public</em> - move the slider to the right if you want to make the ISO publicly available.</li><li><em>Allowed hot migrate</em> - move the slider to the right if you want to be able to hot-migrate VM created from this ISO.</li><li><em>Label</em> - choose a name for the ISO.</li><li><em>Version</em> - fill in the version of the ISO.</li><li><em>Min disk size</em> - specify the minimum required disk size for the ISO (1 GB by default).</li><li><em>Min memory size</em> - specify the minimum required RAM for the ISO (128 MB by default).</li><li><em>Operating system</em> - choose the operating system of the ISO.</li><li><em>Operating system distro</em> - fill in the operating system distribution of the ISO in free form.</li><li><em>Virtualization</em> - tick the required virtualization type(s): KVM or KVM+Virtio.</li></ul></li><li>Click <strong>Next. </strong>On the page that appears, click <strong>File</strong> or <strong>File Url</strong> tab depending on the upload method:<br/><ul><li><em>File</em> - click <strong>Choose File</strong> to select the required ISO file from your file system. The yellow info box will show the maximum file size for ISOs. The max upload size is pre-configured at <strong>Settings</strong> &gt; <strong>Configuration </strong>(the <em>Max upload size</em> in bytes). Click the <strong>Upload ISO</strong> button.</li><li><em>File URL</em> - select this tab if you want to upload the ISO from the URL and specify the link from which the ISO will be uploaded. </li></ul></li><li>Click <strong>Save</strong> to upload the ISO. </li></ol><p>After you upload an ISO to the cloud, it can be found at <strong>Cloud</strong> &gt; <strong>Templates </strong>&gt;<strong> ISO List </strong>&gt;<strong> My ISOs</strong> tab. The ISOs uploaded by your users are under the <strong>User ISOs</strong> tab.</p><h3 id="id-.ManagingISOsvVHS9.0-make-publicMakeISO(s)Public"><span class="confluence-anchor-link" id="id-.ManagingISOsvVHS9.0-make-public"></span>Make ISO(s) Public</h3><p>By default, ISOs are available only to those users who uploaded them. These ISO images are available in the <strong>My ISOs</strong> tab. To make your ISO public and accessible to all users:</p><ol><li>Go to your Control Panel &gt; <strong>Cloud </strong>&gt;<strong> </strong><strong>Templates </strong>&gt;<strong> ISO List </strong>menu.</li><li>Click the <strong>My ISOs</strong> tab.</li><li>Click the <strong>Actions</strong> button next to the ISO you want to make public, then select <strong>Make public</strong>.</li><li>Confirm the window that pops up.</li></ol><p>When you make a user ISO public, it is moved to the <strong>System ISOs</strong> tab.</p><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><ul><li><p>Make sure that you have enabled the <em>Any power action on own virtual servers </em>and<em> Allow own virtual servers to boot from ISO </em>permissions for the user to be able to boot machines from ISO.</p></li><li><p><span>Note that you should track the Operating System Type option of the compute resource where the current VM lives.  </span></p><ul><li><p><span>If the compute resource is set to <em>Any</em>, any ISO that has other suitable requirements is available to boot from. </span></p></li><li><p><span>If the compute resource has <em>Windows only</em> option enabled, the ISO that has a Windows operating system is available for selection. </span></p></li><li><p><span>If the compute resource has the <em>Non-Windows option</em> enabled, the ISOs with OSs Linux and FreeBSD are available for selection.</span></p></li></ul></li></ul></div></div><h3 id="id-.ManagingISOsvVHS9.0-boot-from-isoBootVirtualMachinefromISO"><span class="confluence-anchor-link" id="id-.ManagingISOsvVHS9.0-boot-from-iso"></span>Boot Virtual Machine from ISO</h3><p>Once you have shared the location where ISOs are stored and uploaded ISOs into the system, you can boot <a href="https://docs.onapp.com/display/TEST2/.Manage+Virtual+Server+Power+Options+v6.5">virtual</a> machines from them using the machine's power options menu. To boot a virtual machine from ISO:</p><ol><li>Go to your Control Panel &gt; <strong>Cloud </strong>&gt;<strong> </strong><strong>Virtual Servers</strong> menu.</li><li>Click the label of the required virtual machine.</li><li>Click the <strong>Actions</strong> button on the machine's screen, point to <strong>Power</strong>, and select<em> Boot from ISO.</em><span> You can boot virtual machines from your own ISOs or the ISOs that are uploaded and made publicly available by other users. If you boot a machine from an ISO with the RAM requirement larger than the machine's RAM, the transaction will fail.</span></li></ol><p><br/></p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<hr/><h2 id="id-.ManagingISOsvVHS9.0-EditISOsedit">Edit ISOs<span class="confluence-anchor-link" id="id-.ManagingISOsvVHS9.0-edit"></span></h2></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p>To edit the ISOs available to you:</p><ol><li>Go to your Control Panel &gt; <strong>Cloud</strong> and click <strong>Templates</strong>.</li><li>Select <strong>ISO list</strong> from the menu that expands. The page that loads shows the list of ISOs available to you.</li><li>Click the <strong>Actions</strong> button next to the required ISO and choose <strong>Edit ISO</strong>.</li><li>On the page that loads you can edit the following ISO details:<br/><ul><li><em>Allowed hot migrate - </em>move the slider to the right if you want to be able to hot-migrate VM created from this ISO.<em><br/></em></li><li><em>Label</em> - choose the name for the ISO.</li><li><em>Version</em> - fill in the version of the ISO.</li><li><em>Min disk size</em> - specify the minimum required disk size  for the ISO.</li><li><em>Min memory size</em> - specify the minimum required RAM for the ISO.</li><li><em>Operating system</em> - choose the operating system of the ISO.</li><li><em>Operating system distro</em> - fill in the operating system distribution of the ISO in free form.</li><li><em>Virtualization</em> - select the required virtualization type(s): <em>KVM</em> or <em>KVM+Virtio</em>.</li></ul></li><li>Click <strong>Save</strong>.</li></ol><p><br/></p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<hr/><h2 id="id-.ManagingISOsvVHS9.0-DeleteISOsdelete">Delete ISOs<span class="confluence-anchor-link" id="id-.ManagingISOsvVHS9.0-delete"></span></h2></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<ol><li>Go to your Control Panel &gt; <strong>Cloud</strong> and click <strong>Templates</strong>.</li><li>Select <strong>ISO list</strong> from the menu that expands. The page that loads shows the list of ISOs available to you.</li><li>Click the <strong>Actions</strong> button next to the required ISO and choose <strong>Delete ISO</strong>.</li></ol></div>
</div>
</div>
</div>
                    </div>

                                        
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on May 07, 2024 09:23</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
